<%- include("partials/header.ejs") %>

<main>
    <h1>Book List</h1>
    <div class="books">
            <% books.forEach(book => { %>
                <div class="book">
                    <img src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-L.jpg" alt="Book cover">
                    <div class="book-info">
                        <a href="/books/<%= book.id %>"><h3><%= book.title %></h3></a>
                        
                        <p>ISBN: <%= book.isbn %></p>

                        <p>Id: <%= book.id %></p>
                        <a class="editBook" >Modify</a> <form action="/delete/<%= book.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this book?');">
                            <button type="submit">Delete</button>
                        </form>
                        
                    </div> 
                    
                </div>
                <div class="editBookForm">
                    <!-- Form to add a new book -->
                    <div class="editclose">
                        <i class="ri-close-large-line"></i>
                    </div>
                    <form action="/edit_book/<%= book.id %>" method="POST">
                        <input type="text" name="title" placeholder="Book Title" value="<%= book.title %>" required>
                        <br>
                        <input type="text" name="isbn" placeholder="ISBN" value="<%= book.isbn %>" required>
                        <br>
                        <button type="submit">Edit Book</button>
                    </form>
                </div>
            <% }) %>
    </div> 
</main>


<div class="form">
        <!-- Form to add a new book -->
        <div class="close">
            <i class="ri-close-large-line"></i>
        </div>
        <form action="/add_book" method="POST">
            <input type="text" name="title" placeholder="Book Title" required>
            <br>
            <input type="text" name="isbn" placeholder="ISBN" required>
            <br>
            <button type="submit">Add Book</button>
        </form>
</div>




<%- include("partials/footer.ejs") %>
